<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechDetective - Hardware Risk Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;800&family=Inter:wght@400;600;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #e2e8f0; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        .risk-card { background: #1e293b; border: 1px solid #334155; transition: all 0.2s; }
        .risk-card:hover { border-color: #ef4444; } /* Hover turns red to imply risk */
        
        .solver-card { background: #064e3b; border: 1px solid #059669; }
        
        .btn-amazon {
            background: linear-gradient(to bottom, #fbbf24, #d97706);
            color: #1e293b;
            font-weight: 800;
            text-transform: uppercase;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: transform 0.1s;
        }
        .btn-amazon:hover { transform: scale(1.02); filter: brightness(1.1); }
        .btn-amazon:active { transform: scale(0.98); }

        .cat-btn.active { background-color: #3b82f6; border-color: #60a5fa; color: white; }
        .cat-btn.inactive { background-color: #1e293b; color: #94a3b8; border-color: #334155; opacity: 0.7; }
        
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex flex-col min-h-screen selection:bg-yellow-500 selection:text-black">

    <div class="bg-slate-900 border-b border-slate-800 pb-10 pt-10 px-4">
        <div class="max-w-4xl mx-auto text-center">
            <div class="inline-block bg-red-900/30 text-red-400 px-3 py-1 rounded-full text-xs font-bold mono mb-4 border border-red-800">
                <i class="fa-solid fa-triangle-exclamation mr-2"></i>DATABASE v27.0
            </div>
            <h1 class="text-4xl md:text-5xl font-black mb-4 text-white tracking-tighter">
                <span class="text-blue-500">Tech</span>Detective
            </h1>
            <p class="text-lg text-gray-400 mb-8 max-w-2xl mx-auto">
                Check the <strong>Hardware Risk Score</strong> before you buy. <br>
                We expose the flaws brands try to hide.
            </p>

            <div class="flex justify-center gap-4 mb-6">
                <button onclick="switchCategory('Laptop')" id="btn-laptop" class="cat-btn active px-6 py-3 rounded-lg font-bold border-2 transition-all flex items-center">
                    <i class="fa-solid fa-laptop mr-2"></i> Laptops
                </button>
                <button onclick="switchCategory('3D_Printer')" id="btn-3d" class="cat-btn inactive px-6 py-3 rounded-lg font-bold border-2 transition-all flex items-center">
                    <i class="fa-solid fa-print mr-2"></i> 3D Printers
                </button>
            </div>

            <div class="relative max-w-lg mx-auto">
                <input type="text" id="search-input" onkeyup="filterProducts()" 
                    class="block w-full p-4 pl-12 text-white border border-slate-700 rounded-xl bg-slate-800 focus:border-blue-500 outline-none shadow-xl" 
                    placeholder="Search model (e.g. 'Dell XPS', 'Ender 3')...">
                <div class="absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none text-gray-500">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
            </div>
        </div>
    </div>

    <div id="arena" class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start fade-in w-full p-4 md:p-8">
        </div>

    <footer class="text-center mt-auto py-8 border-t border-slate-800 text-slate-500 text-xs bg-slate-900">
        <p>TechDetective is a participant in the Amazon Services LLC Associates Program.</p>
        <p class="mt-2">We earn a commission if you click links and make a purchase.</p>
    </footer>

    <div id="evidence-modal" class="fixed inset-0 bg-black/90 hidden flex items-center justify-center z-50 p-4 backdrop-blur-sm">
        <div class="bg-slate-900 border border-slate-700 rounded-2xl max-w-md w-full p-6 relative shadow-2xl">
            <button onclick="closeModal('evidence-modal')" class="absolute top-4 right-4 text-gray-400 hover:text-white"><i class="fa-solid fa-xmark fa-xl"></i></button>
            <h2 class="text-xl font-black text-white mb-4">Submit Evidence</h2>
            <form onsubmit="handleEvidenceSubmit(event)" class="space-y-4">
                <input type="text" required placeholder="Device Model" class="w-full bg-slate-800 border border-slate-600 rounded p-3 text-white text-sm outline-none">
                <textarea required rows="3" placeholder="Describe the failure..." class="w-full bg-slate-800 border border-slate-600 rounded p-3 text-white text-sm outline-none"></textarea>
                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg">Submit Report</button>
            </form>
        </div>
    </div>

    <script>
        // =========================================================================
        //  DATABASE v27.0 (Optimized for Conversion)
        // =========================================================================
        
        let currentCategory = 'Laptop';

        function parseScore(score) {
            if (typeof score === 'number') return score;
            return parseInt(score.toString().replace(/[^0-9]/g, '')) || 0;
        }

        const database = [
            // --- LAPTOPS ---
            { 
                category: "Laptop", id: "dell-xps-13-plus", name: "Dell XPS 13 Plus (9320)", price: "$1,399", riskScore: 92, verdict: "DONGLE HELL", 
                persona: "Music Producers: No headphone jack means living in a dongle nightmare.", timebomb: "Month 6: Capacitive touch row freezes.", 
                db1: "Dongle Hell", p1: "No 3.5mm jack. Cannot charge & listen.", db2: "Battery Anxiety", p2: "Lasts barely 5 hours.", 
                solver: "MacBook Air M2", sReason: "15+ hours battery. Real keys.", value: "Dell XPS 13 (9315)", vReason: "Has real function keys.", 
                a1: "USB-C to Audio Adapter", l_a1: "https://amzn.to/4kD8XgK", a2: "Anker Prime 200W", l_a2: "https://amzn.to/4kyVXsv", l_solver: "https://amzn.to/4ax1iM6", l_value: "https://amzn.to/4aLNfUh" 
            },
            { category: "Laptop", id: "lenovo-legion-5", name: "Lenovo Legion 5 (Gen 8)", price: "$1,199", riskScore: 79, verdict: "WIFI LOTTERY", persona: "Competitive Gamers: Ping spikes lose matches.", timebomb: "Month 12: Power brick cable frays.", db1: "WiFi Card Lottery", p1: "Realtek cards cause lag spikes.", db2: "The 300W Brick", p2: "Massive and heavy charger.", solver: "ASUS ROG Zephyrus G14", sReason: "Lighter, premium Intel WiFi.", value: "Lenovo Legion 5 (Gen 7 Used)", vReason: "Cheaper, upgrade WiFi yourself.", a1: "Intel AX210 WiFi 6E Card", l_a1: "https://amzn.to/4kuLdLw", a2: "Slim Charger", l_a2: "https://amzn.to/4qtEyCJ", l_solver: "https://amzn.to/463YrsV", l_value: "https://amzn.to/3OpuxsR" },
            { category: "Laptop", id: "razer-blade-15", name: "Razer Blade 15 (2024)", price: "$2,499", riskScore: 95, verdict: "SPICY PILLOW", persona: "Students: Battery bloat is dangerous.", timebomb: "Month 18: Battery swells, bending chassis.", db1: "Spicy Pillow Risk", p1: "Heat cooks the battery.", db2: "Surface Lava", p2: "Keyboard hits 55°C.", solver: "ASUS ROG Zephyrus G16", sReason: "Runs 10°C cooler.", value: "Razer Blade 14 (AMD)", vReason: "AMD runs cooler.", a1: "IETS GT600 Cooler", l_a1: "https://amzn.to/46IyRJZ", a2: "Razer Mini Keyboard", l_a2: "https://amzn.to/4aszZTn", l_solver: "https://amzn.to/4aoclHy", l_value: "https://amzn.to/3OCX12o" },
            { category: "Laptop", id: "hp-spectre-x360", name: "HP Spectre x360", price: "$1,599", riskScore: 65, verdict: "HINGE SNAP", persona: "Artists: Flipping stresses cables.", timebomb: "Month 14: Hinge loosens.", db1: "Hinge Anxiety", p1: "Convertible hinges are fragile.", db2: "Bloatware City", p2: "15+ pre-installed junk apps.", solver: "Dell XPS 13 Plus", sReason: "Solid non-convertible hinge.", value: "Lenovo Yoga 9i", vReason: "Better soundbar hinge.", a1: "HP Care Pack", l_a1: "https://amzn.to/4aN0WCk", a2: "Clean SSD", l_a2: "https://amzn.to/3Obi3oO", l_solver: "https://amzn.to/4kRtsXf", l_value: "https://amzn.to/3M6LAPV" },
            { category: "Laptop", id: "asus-tuf-a15", name: "ASUS TUF A15", price: "$999", riskScore: 72, verdict: "JET ENGINE", persona: "Library Users: 55dB fans.", timebomb: "Month 9: Fan bearings grind.", db1: "Jet Engine Fans", p1: "Loud, cheap fans.", db2: "Ghost Screen", p2: "Slow response time causes blur.", solver: "Lenovo Legion 5", sReason: "Better screen, quieter.", value: "Acer Nitro V 15", vReason: "Reliable budget king.", a1: "Razer Headset", l_a1: "https://amzn.to/4ttHnGR", a2: "Gaming Monitor", l_a2: "https://amzn.to/4rxSxZP", l_solver: "https://amzn.to/46wZnWM", l_value: "https://amzn.to/4rP6vGj" },
            { category: "Laptop", id: "lenovo-loq", name: "Lenovo LOQ 15 (Intel)", price: "$899", riskScore: 88, verdict: "MB SUICIDE", persona: "Budget Gamers: Motherboard risk.", timebomb: "Month 4: VRM failure.", db1: "Motherboard Suicide", p1: "Specific Intel CPUs fry VRMs.", db2: "Thermonuclear Heat", p2: "Single fan can't handle it.", solver: "Acer Nitro 16", sReason: "Superior dual-fan cooling.", value: "ASUS TUF F15", vReason: "Military-grade durability.", a1: "Laptop Stand", l_a1: "https://amzn.to/3OaX19O", a2: "Cooling Pad", l_a2: "https://amzn.to/4kv8sFf", l_solver: "https://amzn.to/4bS0yDI", l_value: "https://amzn.to/4qymUhm" },
            { category: "Laptop", id: "surface-laptop-5", name: "Surface Laptop 5", price: "$1,299", riskScore: 68, verdict: "GLUE TRAP", persona: "DIY Fixers: Zero repairability.", timebomb: "Month 8: Alcantara stains yellow.", db1: "The Glue Trap", p1: "Battery glued down.", db2: "Alcantara Stain", p2: "Fabric absorbs sweat.", solver: "Dell XPS 13", sReason: "Aluminum is clean.", value: "Framework Laptop", vReason: "Completely repairable.", a1: "Sleeve", l_a1: "https://amzn.to/3Zu16Zb", a2: "External Keyboard", l_a2: "https://amzn.to/4qDObPt", l_solver: "https://amzn.to/4qx0a16", l_value: "https://amzn.to/3MBbFXr" },
            { category: "Laptop", id: "acer-swift-go-14", name: "Acer Swift Go 14", price: "$799", riskScore: 60, verdict: "WIFI DROP", persona: "Remote Workers: Drops calls.", timebomb: "Month 6: Trackpad wears down.", db1: "WiFi Dropouts", p1: "MediaTek cards struggle.", db2: "Plastic Trackpad", p2: "Feels sticky and cheap.", solver: "MacBook Air M1", sReason: "Perfect glass trackpad.", value: "Asus Zenbook 14", vReason: "OLED screen, better build.", a1: "USB WiFi", l_a1: "https://amzn.to/462RKXU", a2: "Wireless Mouse", l_a2: "https://amzn.to/4raPoP7", l_solver: "https://amzn.to/4rejrp5", l_value: "https://amzn.to/4kAUrGn" },
            { category: "Laptop", id: "samsung-galaxy-book3", name: "Samsung Galaxy Book 3", price: "$1,099", riskScore: 75, verdict: "CRACK GATE", persona: "Travelers: Screen breaks easily.", timebomb: "Month 3: Spontaneous cracks.", db1: "Crack-Gate Screen", p1: "Glass is too thin.", db2: "The Wobble", p2: "Weak hinge.", solver: "MacBook Air 15", sReason: "Solid unibody aluminum.", value: "LG Gram 16", vReason: "Flexible magnesium alloy.", a1: "Hard Case", l_a1: "https://amzn.to/46ORImL", a2: "Bluetooth Keyboard", l_a2: "https://amzn.to/3MrfHkY", l_solver: "https://amzn.to/4cq58t4", l_value: "https://amzn.to/466tbt7" },
            { category: "Laptop", id: "macbook-pro-13-m2", name: "MacBook Pro 13 (M2)", price: "$1,299", riskScore: 90, verdict: "ZOMBIE TECH", persona: "Editors: Touch Bar is dead.", timebomb: "Year 2: Webcam looks ancient.", db1: "Zombie Touch Bar", p1: "No future OS support.", db2: "60Hz Screen", p2: "Choppy scrolling.", solver: "MacBook Pro 14", sReason: "Real Pro screen (120Hz).", value: "MacBook Air M2", vReason: "Cheaper, better webcam.", a1: "4K Webcam", l_a1: "https://amzn.to/4adenvg", a2: "144Hz Monitor", l_a2: "https://amzn.to/3OCuytw", l_solver: "https://amzn.to/3ZyvtO1", l_value: "https://amzn.to/3MsXTG7" },

            // --- 3D PRINTERS ---
            {
                category: "3D_Printer", id: "ender-3-v3-se", name: "Creality Ender 3 V3 SE", price: "$199", riskScore: 85, verdict: "QC LOTTERY",
                persona: "Parents: NOT A TOY. Requires constant mechanical maintenance and debugging.", timebomb: "Month 3: The extruder gears wear out, causing underextrusion and failed prints.",
                mechScore: 6, hotendScore: 8, firmScore: 7, easeUse: 6, repair: 9, reliable: 5,
                db1: "Gantry Wobble", p1: "Cheap construction leads to Z-axis wobble and ugly lines.",
                db2: "The Spaghetti Monster", p2: "With no AI detection, a failed print will continue for 10 hours, creating a massive ball of plastic spaghetti and wasting $20 of filament.",
                a1: "CR Touch Auto Leveling Kit", l_a1: "https://amzn.to/4avRTV1", a2: "Sunlu Filament Dryer S1", l_a2: "https://amzn.to/4rieR9m",
                solver: "Flashforge Adventurer 5M", sReason: "CoreXY structure, auto-leveling, and 600mm/s speed. The reliable workhorse.", l_solver: "https://amzn.to/4rO30zE",
                value: "Sovol SV06", vReason: "Linear rails are more durable than plastic wheels for the same price.", l_value: "https://amzn.to/4bV0DGS"
            },
            {
                category: "3D_Printer", id: "bambu-a1-mini", name: "Bambu Lab A1 Mini", price: "$299", riskScore: 15, verdict: "JUST WORKS",
                persona: "Tinkerers: Do not buy. It is a closed system. You cannot modify or upgrade it.", timebomb: "Year 2: Proprietary parts may become expensive if Bambu raises prices.",
                mechScore: 1, hotendScore: 1, firmScore: 3, easeUse: 10, repair: 3, reliable: 10,
                db1: "Too Small", p1: "180mm volume limits cosplay prints.",
                db2: "Cloud Privacy Risk", p2: "Your print files go through cloud servers. If the internet goes down, you lose app control. It is a data black box.",
                a1: "Textured PEI Plate", l_a1: "https://amzn.to/4kyuwPk", a2: "eSun PLA+ Filament White", l_a2: "https://amzn.to/4ataRvx",
                solver: "Prusa Mini+", sReason: "If you care about Open Source and offline privacy, get Prusa.", l_solver: "https://amzn.to/3MIGFVp",
                value: "AnkerMake M5C", vReason: "Faster printing speeds and solid aluminum build for a similar price.", l_value: "https://amzn.to/4agB7KS"
            },
            {
                category: "3D_Printer", id: "anycubic-photon-mono", name: "Anycubic Photon Mono 2", price: "$180", riskScore: 90, verdict: "TOXIC HAZARD",
                persona: "Apartment Users: Resin fumes are toxic. You cannot use this in a bedroom or living room.", timebomb: "Month 6: The LCD screen burns out from UV light and must be replaced ($50).",
                mechScore: 9, hotendScore: 1, firmScore: 4, easeUse: 4, repair: 2, reliable: 6,
                db1: "Toxic Resin", p1: "Requires gloves, masks, and ventilation. Dangerous for pets.",
                db2: "FEP Film Tear", p2: "If the thin plastic film (FEP) tears during a print, liquid resin leaks onto the LCD screen and cures, permanently destroying your printer.",
                a1: "Anycubic Wash & Cure Station", l_a1: "https://amzn.to/4tCG87Y", a2: "Anycubic Grey Resin 1kg", l_a2: "https://amzn.to/4sblM4z",
                solver: "Flashforge Adventurer 5M", sReason: "Escape the toxicity. FDM printing requires no gloves, is safe for home, and auto-levels.", l_solver: "https://amzn.to/4tCngpS",
                value: "Elegoo Mars 4", vReason: "Comes with a built-in air filter to reduce the toxic smell.", l_value: "https://amzn.to/469PUEF"
            },
            {
                category: "3D_Printer", id: "elegoo-neptune-4", name: "Elegoo Neptune 4 Pro", price: "$280", riskScore: 75, verdict: "FIRMWARE BUG",
                persona: "Beginners: The Z-offset bug may crash the nozzle into the bed, destroying it instantly.", timebomb: "Month 4: POM wheels wear out quickly at high speeds, causing wobbly print lines.",
                mechScore: 4, hotendScore: 5, firmScore: 8, easeUse: 5, repair: 8, reliable: 6,
                db1: "Z-Offset Bug", p1: "Printer forgets height settings, scratching the bed.",
                db2: "Jet Engine Noise", p2: "The massive auxiliary cooling fan hits 65dB+. It sounds like a vacuum cleaner running next to your ear. Unusable in a bedroom.",
                a1: "PEI Magnetic Build Plate", l_a1: "https://amzn.to/4ctaUtW", a2: "Noctua Silent Fan Mod", l_a2: "https://amzn.to/4rgiixg",
                solver: "Creality K1C", sReason: "Stable firmware that doesn't crash the nozzle into the bed. Quiet mode included.", l_solver: "https://amzn.to/4rhuAFL",
                value: "Creality Ender 3 V3 KE", vReason: "Better software experience and easier to repair.", l_value: "https://amzn.to/4rhu1M9"
            },
            {
                category: "3D_Printer", id: "prusa-mini", name: "Prusa Mini+", price: "$429", riskScore: 40, verdict: "OLD TECH",
                persona: "Value Seekers: You are paying 2024 prices for 2019 speeds. It is 4x slower than modern printers.", timebomb: "Year 1: USB port wears out and Bowden tube degrades.",
                mechScore: 5, hotendScore: 4, firmScore: 2, easeUse: 8, repair: 10, reliable: 9,
                db1: "Painfully Slow", p1: "It lacks Input Shaping. A standard 'Benchy' boat takes 1.5 hours. A Bambu Lab A1 does it in 18 minutes.",
                db2: "Tiny Build Volume", p2: "180mm cube is too small for most cosplay helmets or useful organizers. You will outgrow this size in a month.",
                a1: "Raspberry Pi 4 (For OctoPrint)", l_a1: "https://amzn.to/4awdywx", a2: "Bondtech Heatbreak", l_a2: "https://amzn.to/4qG8n3c",
                solver: "Flashforge Adventurer 5M", sReason: "CoreXY structure, auto-leveling, and 600mm/s speed. The reliable workhorse.", l_solver: "https://amzn.to/3MEIa77",
                value: "Sovol SV07", vReason: "Faster Klipper speed and larger build volume for a lower price.", l_value: "https://amzn.to/3OcjO5b"
            },
            {
                category: "3D_Printer", id: "creality-k1", name: "Creality K1 (Gen 1)", price: "$399", riskScore: 82, verdict: "EXTRUDER JAM",
                persona: "Speed Demons: The Gen 1 extruder cannot handle the speed. It jams constantly.", timebomb: "Month 3: PTFE tube melts inside hotend causing permanent clogs.",
                mechScore: 5, hotendScore: 9, firmScore: 6, easeUse: 7, repair: 4, reliable: 5,
                db1: "Underextrusion Lottery", p1: "Due to a design flaw in the extruder gears, the filament slips. Your 10-hour print will fail at hour 9.",
                db2: "VFA (Vertical Artifacts)", p2: "The printer vibrates so much it leaves vertical ripple patterns on the walls. Prints look ugly.",
                a1: "Official Extruder Upgrade Kit (V3)", l_a1: "https://amzn.to/4kyx6F0", a2: "Hyper PLA High Speed Filament", l_a2: "https://amzn.to/3ZCCYU7",
                solver: "Flashforge 5M Pro", sReason: "A truly reliable enclosed CoreXY printer. Its quick-swap nozzle system solves the K1's constant jamming issues.", l_solver: "https://amzn.to/3Of1sjT",
                value: "QIDI Tech Q1 Pro", vReason: "Features an active heated chamber (60°C) for warp-free ABS printing. Far superior build quality compared to K1.", l_value: "https://amzn.to/3ZF3Oen"
            }
        ];

        // --- CORE FUNCTIONS ---
        
        function switchCategory(cat) {
            currentCategory = cat;
            const btnLaptop = document.getElementById('btn-laptop');
            const btn3D = document.getElementById('btn-3d');

            if (cat === 'Laptop') {
                btnLaptop.className = 'cat-btn active px-6 py-3 rounded-lg font-bold border-2 transition-all flex items-center';
                btn3D.className = 'cat-btn inactive px-6 py-3 rounded-lg font-bold border-2 transition-all flex items-center';
            } else {
                btnLaptop.className = 'cat-btn inactive px-6 py-3 rounded-lg font-bold border-2 transition-all flex items-center';
                btn3D.className = 'cat-btn active px-6 py-3 rounded-lg font-bold border-2 transition-all flex items-center';
            }
            filterProducts();
        }

        function filterProducts() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const arena = document.getElementById('arena');
            arena.innerHTML = '';
            
            const filtered = database.filter(item => 
                (item.category === currentCategory) && 
                (item.name.toLowerCase().includes(query) || item.id.toLowerCase().includes(query))
            );

            if(filtered.length === 0) {
                arena.innerHTML = `<div class="text-center text-gray-500 w-full col-span-3 py-10">No products found for "${query}" in ${currentCategory}.</div>`;
                return;
            }

            filtered.forEach(item => {
                renderCard(item, arena);
            });
        }

        // --- MAIN RENDERER (UNIFIED) ---
        function renderCard(data, container) {
            const riskNum = parseScore(data.riskScore);
            let riskLevel = "LOW";
            let riskColor = "bg-emerald-500";
            let riskText = "Safe to buy";
            
            if(riskNum > 50) { riskLevel = "MEDIUM"; riskColor = "bg-yellow-500"; riskText = "Proceed with caution"; }
            if(riskNum > 79) { riskLevel = "HIGH"; riskColor = "bg-red-600"; riskText = "DO NOT BUY"; }

            const html = `
                <div class="risk-card rounded-2xl overflow-hidden relative shadow-2xl fade-in flex flex-col h-full">
                    <div class="bg-slate-900 p-6 border-b border-slate-700 relative">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">${data.category.replace('_', ' ')}</span>
                            <span class="${riskColor} text-white text-[10px] font-black px-2 py-1 rounded uppercase">${riskLevel} RISK</span>
                        </div>
                        <h2 class="text-2xl font-black text-white leading-none mb-4">${data.name}</h2>
                        
                        <div class="flex items-center gap-4">
                            <div class="flex-1">
                                <div class="flex justify-between text-xs font-bold text-slate-400 mb-1">
                                    <span>RISK SCORE</span>
                                    <span class="${riskNum > 70 ? 'text-red-500' : 'text-yellow-500'}">${riskNum}/100</span>
                                </div>
                                <div class="w-full bg-slate-800 rounded-full h-2">
                                    <div class="${riskColor} h-2 rounded-full" style="width: ${riskNum}%"></div>
                                </div>
                            </div>
                        </div>
                        <p class="text-xs text-slate-400 mt-2 italic">"${data.verdict}"</p>
                    </div>

                    <div class="p-6 space-y-6 flex-grow">
                        <div class="bg-red-900/20 border border-red-900/50 p-3 rounded-lg">
                            <h4 class="text-red-500 text-xs font-bold uppercase mb-1"><i class="fa-solid fa-triangle-exclamation mr-1"></i> Critical Flaws</h4>
                            <ul class="space-y-3">
                                <li>
                                    <span class="text-white font-bold text-sm block">${data.db1}</span>
                                    <span class="text-slate-400 text-xs">${data.p1}</span>
                                </li>
                                <li>
                                    <span class="text-white font-bold text-sm block">${data.db2}</span>
                                    <span class="text-slate-400 text-xs">${data.p2}</span>
                                </li>
                            </ul>
                        </div>

                        <div class="border-t border-slate-700 pt-4">
                            <h4 class="text-white text-sm font-bold mb-3 flex items-center">
                                <i class="fa-solid fa-shield-halved text-emerald-500 mr-2"></i> Don't want these problems?
                            </h4>
                            
                            <div class="bg-emerald-900/30 border border-emerald-800 rounded-lg p-3 mb-3">
                                <div class="flex justify-between items-start mb-1">
                                    <span class="text-emerald-400 text-[10px] font-bold uppercase">The Stable Choice</span>
                                    <span class="text-white text-xs font-bold">${data.solver}</span>
                                </div>
                                <p class="text-slate-400 text-[10px] mb-3">${data.sReason}</p>
                                <a href="${data.l_solver}" target="_blank" rel="nofollow sponsored" class="btn-amazon block w-full py-2 text-center rounded text-xs">
                                    See Price on Amazon <i class="fa-solid fa-arrow-right ml-1"></i>
                                </a>
                            </div>

                            <div class="bg-slate-800 border border-slate-700 rounded-lg p-3">
                                <div class="flex justify-between items-start mb-1">
                                    <span class="text-blue-400 text-[10px] font-bold uppercase">Best Value</span>
                                    <span class="text-white text-xs font-bold">${data.value}</span>
                                </div>
                                <p class="text-slate-400 text-[10px] mb-3">${data.vReason}</p>
                                <a href="${data.l_value}" target="_blank" rel="nofollow sponsored" class="block w-full py-2 bg-slate-700 hover:bg-slate-600 text-white font-bold text-center rounded text-xs transition-colors">
                                    Check Deal <i class="fa-solid fa-tag ml-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-950 p-4 border-t border-slate-800 text-[10px] grid grid-cols-2 gap-4">
                        <div>
                            <span class="text-red-500 font-bold block mb-1">❌ NOT FOR:</span>
                            <span class="text-slate-500 leading-tight block">${data.persona}</span>
                        </div>
                        <div>
                            <span class="text-emerald-500 font-bold block mb-1">✅ FIXABLE WITH:</span>
                            <a href="${data.l_a1}" target="_blank" class="text-blue-400 hover:underline cursor-pointer truncate block">${data.a1}</a>
                        </div>
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', html);
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }
        
        function handleEvidenceSubmit(e) {
            e.preventDefault();
            alert("Report submitted! Thank you for contributing.");
            closeModal('evidence-modal');
        }

        function openEvidenceModal() {
            document.getElementById('evidence-modal').classList.remove('hidden');
        }

        // Init
        filterProducts();
    </script>
</body>
</html>
